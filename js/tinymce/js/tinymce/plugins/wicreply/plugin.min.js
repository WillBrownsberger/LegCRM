tinymce.PluginManager.add('wicreply', function(editor, url) {

    editor.addSidebar('wicReplyHelp', {
      tooltip: 'Help',
      icon: 'help',
      onrender: function (api) {
        api.element().innerHTML = document.getElementById ( 'reply-help-sidebar' ).outerHTML;
      }
    });

	editor.addButton( 'wicreply_save', {
		text: 'Save',
		icon: 'save',
		tooltip: 'Save standard for issue/pro-con',
		onclick: function() {
			wpIssuesCRM.saveIssueReplyTemplate()
		} 		
	
	});

	editor.addButton( 'wicreply_load', {
		text: 'Load',
		tooltip: 'Load standard for issue/pro-con',
		icon: 'restoredraft',
		onclick: function() {
				wpIssuesCRM.loadReplyTemplate()
		} 		
	
	});
	
	/*
	editor.addButton( 'wicreply_browse', {
		tooltip: 'Browse issue/pro-con reply standards',
		icon: 'browse',
		onclick: function() {
			// 	wpIssuesCRM.loadReplyTemplate()
		} 		
	
	}); */

	editor.addButton( 'wicreply_preview', {
		tooltip: 'Preview reply',
		icon: 'preview',
		onclick: function() {
			wpIssuesCRM.previewMessage()
		} 		
	
	});

});
